Приветствую!

Предполагается, что инфраструктура будет организована в bare-metal среде. К сожалению, не было под рукой Амазоновского аккаунта, чтобы реализовать создание машин в облаке и получения инвентори оттуда.

Поэтому, чтобы плейбук работал, необходимо в  /etc/ansible/hosts добавить адреса:

[backend]
10.1.2.3  
10.1.2.4    


[proxy]
10.1.2.5


Конечно же, установленная инфраструктура не может являть продуктовой. Я не настраивал ни бакапы базы с выведением одного из серверов из балансера, ни ротацию логов, ни отдельный разделы для базы. Так же не трогал и фаерволл, потому что достаточно мало условий о его правильном конфигурировании (кто является клиентом mysql, где находится и т.п.). 

Также прошу не судить строго на некоторую усложненность ansible - кода. Крайний раз я его использовал несколько лет назад для какой-то примитивной тестовой задачи, типа настройки nginx.


С уважением,
Ярослав.  
